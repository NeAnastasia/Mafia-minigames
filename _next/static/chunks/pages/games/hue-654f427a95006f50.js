(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{385:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(7876),a=r(4232);r(4404);var c=r(5410),l=r.n(c),o=r(8230),s=r.n(o);function i(){let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(!1),[o,i]=(0,a.useState)(0),[d,m]=(0,a.useState)(null),[h,f]=(0,a.useState)([]),[_,p]=(0,a.useState)(0),[v,x]=(0,a.useState)(!1),g=(0,a.useRef)(null);(0,a.useEffect)(()=>((function(){clearInterval(g.current),p(0),x(!0);let e=(function(e){let t=e.match(/\d+/g);if(!t||t.length<3)throw Error("Invalid base color format. Expected hsl(H, S%, L%)");let r=parseInt(t[0]),n=parseInt(t[1]),a=parseInt(t[2]),c=[,,,,];for(let e=0;e<4;e++)c[e]=[,,,,];for(let e=0;e<4;e++)for(let t=0;t<4;t++){let l=(r+19*(e+t))%360,o=u(n+9*(e-t),50,90),s=u(a+7*e+10*t,30,85);c[e][t]="hsl(".concat(l,", ").concat(o,"%, ").concat(s,"%)")}return c})("hsl("+Math.floor(360*Math.random())+", 80%, 60%)").map((e,t)=>e.map((e,r)=>({id:4*t+r,color:e,isAnchor:(t+r)%3==0,row:t,col:r,originalRow:t,originalCol:r})));f(e);let r=[...e.flat().filter(e=>!e.isAnchor)].sort(()=>Math.random()-.5),n=0;t(e.map(e=>e.map(e=>e.isAnchor?e:Object.assign({},r[n++],{row:e.row,col:e.col})))),c(!1),i(0),g.current=setInterval(()=>{p(e=>e+1)},1e3)})(),()=>clearInterval(g.current)),[]);let j=e=>{let t=Math.floor(e/60).toString().padStart(2,"0"),r=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(r)};return(0,n.jsxs)("div",{className:"container ".concat(l().gameContainer),children:[(0,n.jsx)("div",{className:"container",children:(0,n.jsx)(s(),{href:"/",className:"btn btn-outline-secondary mb-0",children:"← На главную"})}),(0,n.jsx)("h1",{className:"text-center my-4",children:"I Love Hue"}),(0,n.jsxs)("div",{className:"d-flex justify-content-center gap-4 mb-4",children:[(0,n.jsxs)("div",{className:"fs-5",children:["Moves: ",o]}),(0,n.jsxs)("div",{className:"fs-5",children:["Time: ",j(_)]})]}),r?(0,n.jsx)("div",{className:"alert alert-success ".concat(l().completionAlert),children:(0,n.jsxs)("h4",{children:["Perfect Harmony! Completed in ",o," moves and ",j(_),"!"]})}):(0,n.jsx)("div",{className:l().gameBoard,children:e.map((e,o)=>(0,n.jsx)(a.Fragment,{children:e.map((e,a)=>(0,n.jsx)("div",{className:[l().tile,e.isAnchor?l().anchor:"",(null==d?void 0:d.id)===e.id?l().selected:""].join(" "),style:{backgroundColor:e.color},onClick:()=>(function(e){if(!e.isAnchor&&!r){if(!d)return void m(e);if(d.id===e.id)return void m(null);t(t=>{let r=t.map(e=>[...e]),{row:n,col:a}=d,{row:l,col:o}=e;return r[n][a]={...e,row:n,col:a},r[l][o]={...d,row:l,col:o},function(e){if(!h.length)return;let t=e.every((e,t)=>e.every((e,r)=>{if(e.isAnchor)return!0;let n=h[t][r];return e.id===n.id}));t&&(x(!1),clearInterval(g.current)),c(t)}(r),r}),i(e=>e+1),m(null)}})(e)},e.id))},"row-".concat(o)))})]})}function u(e,t,r){return Math.max(t,Math.min(r,e))}},5410:e=>{e.exports={gameContainer:"HueGame_gameContainer__LxTGz",gameBoard:"HueGame_gameBoard__tbUnc",tile:"HueGame_tile__xUfAH",anchor:"HueGame_anchor__xcaIm",selected:"HueGame_selected__xjpou",incorrect:"HueGame_incorrect__AsVAM",pulse:"HueGame_pulse__NIImS"}},9594:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/hue",function(){return r(385)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[230,636,593,792],()=>t(9594)),_N_E=e.O()}]);